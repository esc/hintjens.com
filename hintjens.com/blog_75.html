<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">


<!-- Mirrored from hintjens.com/blog:75 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Oct 2019 09:30:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <title>Generating Servers with zproto - Hintjens.com</title>
    
    	<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>

<script type='text/javascript'>
googletag.cmd.push(function() {
    // DEFINE DFP SLOTS
googletag.defineSlot('/1030917/wikidot_free_sites_top_728x90', [728, 90], 'div-gpt-ad-1410946564449-1').addService(googletag.pubads());
googletag.defineSlot('/1030917/wikidot_free_sites_bottom_300x250', [300, 250], 'div-gpt-ad-1410946564449-0').addService(googletag.pubads());

// googletag.pubads().enableSingleRequest();
googletag.pubads().collapseEmptyDivs(true, true);
googletag.pubads().setTargeting("w_name", "hintjens");
googletag.pubads().setTargeting("w_domain", "com.hintjens");
googletag.pubads().setTargeting("w_verified", "false");
if(null){googletag.pubads().setTargeting("w_cats", null);}
if(false){googletag.pubads().setTargeting("w_mn", "true");}
googletag.enableServices();
});
</script>
<script type="text/javascript" src="http://www.wikidot.com/default__flow/login__CustomDomainScript?site_id=352120"></script>

    
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--javascript/init.combined.js"></script>
    <script  type="text/javascript">
        var URL_HOST = 'www.wikidot.com';
        var URL_DOMAIN = 'wikidot.com';
        var USE_SSL =  true ;
        var URL_STATIC = 'http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade';
        // global request information
        
        var WIKIREQUEST = {};
        WIKIREQUEST.info = {};
        
        WIKIREQUEST.info.domain = "hintjens.com";
        WIKIREQUEST.info.siteId = 352120;
        WIKIREQUEST.info.siteUnixName = "hintjens";
        WIKIREQUEST.info.categoryId = 1984291;
        WIKIREQUEST.info.themeId = 1;
        WIKIREQUEST.info.requestPageName = "blog:75";
        OZONE.request.timestamp = 1570613228;
        OZONE.request.date = new Date();
        WIKIREQUEST.info.lang = 'en';
                WIKIREQUEST.info.pageUnixName = "blog:75";
        WIKIREQUEST.info.pageId = 21862585;
                        WIKIREQUEST.info.lang = "en";
        OZONE.lang = "en";
        var isUAMobile = !!/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    </script>
    
    


    
        <script  type="text/javascript">
    
        require.config({
            baseUrl: URL_STATIC + '/common--javascript',
            paths: {
                'jquery.ui': 'jquery-ui.min',
                'jquery.form': 'jquery.form'
            }
        });
    
    </script>
    
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
            
    
    
    
    
    <meta http-equiv="content-language" content="en"/>
    <script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--javascript/WIKIDOT.combined.js"></script>
        
    
    <style type="text/css" id="internal-style">
        
        /* modules */
@import url(http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--modules/css/pagerate/PageRateWidgetModule.css);


        
                
        /* theme */
                    @import url(http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--theme/base/css/style.css);
                    @import url(http://hintjens.wdfiles.com/local--code/admin%3Athemes/1);
            </style>
    
        
        
        
    <link rel="shortcut icon" href="local--favicon/favicon.gif"/>
    <link rel="icon" type="image/gif" href="local--favicon/favicon.gif"/>
    
            <link rel="apple-touch-icon" href="common--images/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72" href="common--images/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="114x114" href="common--images/apple-touch-icon-114x114.png" />
        
        
            <link rel="alternate" type="application/wiki" title="Edit this page" href="javascript:WIKIDOT.page.listeners.editClick()"/>
    
        <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18234656-1']);
        _gaq.push(['_setDomainName', 'none']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        _gaq.push(['old._setAccount', 'UA-68540-5']);
        _gaq.push(['old._setDomainName', 'none']);
        _gaq.push(['old._setAllowLinker', true]);
        _gaq.push(['old._trackPageview']);

                _gaq.push(['userTracker._setAccount', 'UA-623476-16']);
        _gaq.push(['userTracker._trackPageview']);
            </script>
    
    <script type="text/javascript">
        window.google_analytics_uacct = 'UA-18234656-1';
        window.google_analytics_domain_name = 'none';
    </script>
    
        <link rel="manifest" href="onesignal/manifest.html" />
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" acync=""></script>
    <script>
        var OneSignal = window.OneSignal || [];
        OneSignal.push(function() {
          OneSignal.init({
            appId: null,
          });
        });
    </script>
        
<link rel="alternate" type="application/rss+xml" title="Comments for the page &quot;Generating Servers with zproto&quot;" href="feed/page/comments-21862585.xml"/><script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--modules/js/misc/NewPageHelperModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--modules/js/list/ListPagesModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--modules/js/pagerate/PageRateWidgetModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--modules/js/forum/ForumCommentsModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--modules/js/forum/ForumViewThreadModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--modules/js/forum/sub/ForumNewPostFormModule.js"></script>
<script type="text/javascript" src="http://d3g0gp89917ko0.cloudfront.net/v--b23e476b7ade/common--modules/js/forum/ForumViewThreadPostsModule.js"></script>
</head>
<body id="html-body">
<div id="skrollr-body">
<a name="page-top"></a>

<div id="container-wrap-wrap">
    <div id="container-wrap">
        <div id="container">
            <div id="header">
              <h1><a href="index.html"><span>Hintjens.com</span></a></h1>
                
                    <h2><span>Moving Pieces</span></h2>
                
                
                <!-- google_ad_section_start(weight=ignore) -->
                
                <div id="search-top-box" class="form-search">
    <form id="search-top-box-form" action="http://hintjens.com/dummy" class="input-append">
        <input id="search-top-box-input" class="text empty search-query" type="text" size="15" name="query" value="Search this site" onfocus="if(YAHOO.util.Dom.hasClass(this, 'empty')){YAHOO.util.Dom.removeClass(this,'empty'); this.value='';}"/><input class="button btn" type="submit" name="search" value="Search"/>
    </form>
</div>
                
                
                    <div id="top-bar">
                        

<ul>
<li><a href="index.html">Front</a></li>
<li><a href="blog__zeromq.html">ZeroMQ</a></li>
<li><a href="blog__community.html">Community</a></li>
<li><a href="blog__unprotocols.html">Unprotocols</a></li>
<li><a href="blog__psychopaths.html">Psychopaths</a></li>
</ul>

                    </div>
                
                <div id="login-status"><a href="javascript:;" onclick="WIKIDOT.page.listeners.createAccount(event)" class="login-status-create-account btn">Create account</a> <span>or</span> <a href="javascript:;" onclick="WIKIDOT.page.listeners.loginClick(event)" class="login-status-sign-in btn btn-primary">Sign in</a> </div>
                <div id="header-extra-div-1"><span></span></div><div id="header-extra-div-2"><span></span></div><div id="header-extra-div-3"><span></span></div>
            </div>
            
            <div id="content-wrap">
                
                    <div id="side-bar">
                        


                        

<p><a class="wiki-standalone-button" style="background-image: url(http://www.wikidot.com/local--files/files/document-print.png); background-repeat: no-repeat; background-position: bottom right; padding-right: 20px;color: #444" href="javascript:;" onclick="WIKIDOT.page.listeners.printClick(event)">print</a></p>
<a href="http://hintjens.wdfiles.com/local--files/nav:side/culture.jpg"><img src="http://hintjens.wdfiles.com/local--resized-images/nav:side/culture.jpg/small.jpg" alt="culture.jpg" class="image" /></a>
<p><strong>Pieter Hintjens</strong></p>
<p><a href="main_biography.html">Biography</a> | <a href="main_portfolio.html">Portfolio</a> | <a href="https://github.com/hintjens">GitHub</a><br />
<a href="books.html">Books</a> | <a href="https://vimeo.com/user10099130/videos">Videos</a> | <a href="http://www.slideshare.net/pieterh">Slides</a> | <a href="http://fiction.hintjens.com/">Stories</a> | <a href="http://wiki.hintjens.com/">Wiki</a><br />
<a href="contact.html">Contact</a></p>
<p><strong>Thank you for the gifts</strong></p>
<p><a href="http://paypal.me/Hintjens">Kind people already sent donations</a> that will make my childrens' lives easier, when I'm not there any more. Thank you enormously! :-)</p>
<p>Podcasts/Interviews</p>
<p><a href="http://softwareengineeringdaily.com/2016/06/23/death-distributed-systems-pieter-hintjens/">Software Engineering Daily</a><br />
<a href="https://www.youtube.com/watch?v=ApqI9XLRk4k">Interview by Adam Dymitruk</a><br />
<a href="http://devchat.tv/ruby-rogues/188-rr-community-building-with-pieter-hintjens">Ruby Rogues #188, Community Building</a></p>
<p>Talks on video</p>
<p><a href="http://deredactie.be/cm/vrtnieuws/videozone/programmas/deafspraak/2.44331">&quot;De afspraak&quot;, VRT, May 2016</a> (panel discussion)<br />
<a href="http://www.rtl.be/rtltvi/video/581260.aspx">RTL TV, May 2016</a> (panel discussion)<br />
<a href="https://www.youtube.com/watch?v=uzxcILudFWM">DomCode 2015, Nov 2015</a> (keynote)<br />
<a href="https://www.youtube.com/watch?v=7HECD3eLoVo">Coding Serbia, Oct 2015</a> (keynote)<br />
<a href="https://www.youtube.com/watch?v=O8CbzKREAj4">Euroscipy, Cambridge, Aug 2015</a> (keynote)<br />
<a href="https://www.youtube.com/watch?v=FKu09-_AaeM&amp;index=4&amp;list=PLFxMLyzsWeqr4SCyx0ZmFkVz2vZJk_CI5">PyGrunn, Groningen, May 2015</a><br />
<a href="http://www.ustream.tv/recorded/61450822">Craft Conf, Budapest, Apr 2015</a><br />
<a href="http://www.infoq.com/presentations/protocol-design-2015">QCon London, Mar 2015</a><br />
<a href="http://www.infoq.com/presentations/protocol-design">Code Mesh London, Nov 2014</a><br />
<a href="http://www.infoq.com/presentations/trick-better-software">Build Stuff, Vilnius 2014</a><br />
<a href="https://www.youtube.com/watch?v=_QF9sFJGJuc">Build Stuff, Vilnius, Nov 2014</a> (interview)<br />
<a href="https://www.youtube.com/watch?v=xFVDNTXIC_Y">Coding Serbia, Nov 2014</a> (keynote)<br />
<a href="https://www.youtube.com/watch?v=DAOFZfSlFs0">Devnology, Leusden, Oct 2014</a> (keynote)<br />
<a href="https://www.youtube.com/watch?v=QB7VXSc5H3A">EuroPython, Berlin, Jul 2014</a> (keynote)<br />
<a href="https://www.youtube.com/watch?v=qTNqgwN5gzA&amp;feature=youtu.be">Build Stuff, Vilnius, Dec 2013</a> (interview)<br />
<a href="http://www.infoq.com/presentations/digital-revolution-freedom">Build Stuff, Vilnius, Dec 2013</a> (keynote)<br />
<a href="http://vimeo.com/82175816">Code Mesh London, Dec 2013</a><br />
<a href="http://vimeo.com/79378301">DevOps Days, London, Nov 2013</a><br />
<a href="https://vimeo.com/68236487">NDC Oslo, Jun 2013</a><br />
<a href="https://vimeo.com/69666055">CERN - Geneva, Jun 2013</a><br />
<a href="https://www.youtube.com/watch?v=uj-li0LO_2g">Tech Mesh, London, Dec 2012</a><br />
<a href="http://www.infoq.com/presentations/Architecture-Scale-ZeroMQ">Strange Loop, St.Louis, Oct 2012</a><br />
<a href="https://vimeo.com/37854675">ZeroMQ@PDX part 2 - Portland, Feb 2012</a><br />
<a href="https://vimeo.com/38117896">ZeroMQ@PDX part 1 - Portland, Feb 2012</a><br />
<a href="http://www.youtube.com/watch?gl=BE&amp;v=4II94h6-IFY">FLOSS Weekly, Petaliuma CA, Dec 2011</a><br />
<a href="https://www.youtube.com/watch?v=CCBYzKfmQ4U">FOSDEM 2011, Brussels</a><br />
<a href="https://www.youtube.com/watch?v=h0facLxJPUE">Berlin Buzzwords 2010</a> (keynote)<br />
<a href="https://www.youtube.com/watch?v=bQgPArfbXm4">FOSDEM 2009, Brussels</a><br />
<a href="https://www.youtube.com/watch?v=fJo1jmuOuqQ">Hellenic FOSS Conference 2008, Athens part 1</a><br />
<a href="https://www.youtube.com/watch?v=Hx6cS1VLhoo">Hellenic FOSS Conference 2008, Athens part 2</a></p>
<p>Email me at <span class="wiki-email">moc.snejtnih|reteip#moc.snejtnih|reteip</span> if you'd like me to present at your event, or in your organization.</p>
<a href="books.html"><img src="https://www.createspace.com/Img/T448/T45/T21/BookCoverImage.jpg?random=0.4431380270844333" style="padding:5px" width="100" alt="BookCoverImage.jpg?random=0.4431380270844333" class="image" /></a>
<div style="clear:both; height: 0px; font-size: 1px"></div>
<a href="books.html"><img src="http://hintjens.wdfiles.com/local--files/nav:side/socarch.png" style="padding:5px" width="100" alt="socarch.png" class="image" /></a>
<div style="clear:both; height: 0px; font-size: 1px"></div>
<a href="books.html"><img src="http://hintjens.wdfiles.com/local--files/nav:side/confessions.jpg" style="padding:5px" width="100" alt="confessions.jpg" class="image" /></a>
<div style="clear:both; height: 0px; font-size: 1px"></div>
<a href="books.html"><img src="http://hintjens.wdfiles.com/local--files/nav:side/psccover.jpg" style="padding:5px" width="100" alt="psccover.jpg" class="image" /></a>
<div style="clear:both; height: 0px; font-size: 1px"></div>
<a href="books.html"><img src="http://akamaicovers.oreilly.com/images/0636920026136/cat.gif" style="padding:5px" width="100" alt="cat.gif" class="image" /></a>
<div style="clear:both; height: 0px; font-size: 1px"></div>
<a href="books.html"><img src="http://hintjens.wdfiles.com/local--files/nav:side/scalablec.png" style="padding:5px" width="100" alt="scalablec.png" class="image" /></a>
<div style="clear:both; height: 0px; font-size: 1px"></div>
<a href="books.html"><img src="https://www.createspace.com/Img/T409/T85/T11/BookCoverImage.jpg?random=0.7859812398986378" style="padding:5px" width="100" alt="BookCoverImage.jpg?random=0.7859812398986378" class="image" /></a>
<div style="clear:both; height: 0px; font-size: 1px"></div>
<p><strong><a href="books.html">Download and read online</a></strong></p>
<p><strong><a href="legal_start.html">Legal</a> | <a href="about.html">About</a> | <a href="contact.html">Contact</a></strong></p>
<div class="collapsible-block">
<div class="collapsible-block-folded"><a class="collapsible-block-link" href="javascript:;"> ▽ </a></div>
<div class="collapsible-block-unfolded" style="display:none">
<div class="collapsible-block-unfolded-link"><a class="collapsible-block-link" href="javascript:;"> △ </a></div>
<div class="collapsible-block-content">
<div class="side-box">
<p><a href="_admin.html">Manage</a> | <a href="admin_themes.html">Theme</a> | <a href="nav_top.html">Top</a> | <a href="nav_top.html">Side</a></p>

<div class="new-page-box" style="text-align: center; margin: 1em 0;">
	<form action="http://hintjens.com/dummy.html" method="get" onsubmit="WIKIDOT.modules.NewPageHelperModule.listeners.create(event);">
		<input class="text" name="pageName" type="text" size="40" maxlength="128" style="margin: 1px"/>
				<input type="submit" class="button" value="New post" style="margin: 1px;"/>
									<input type="hidden" name="categoryName" value="blog"/>
													<input type="hidden" name="parent" value="blog:_start"/>
				
	</form>
</div>
</div>
</div>
</div>
</div>

                        


                    </div>
                
                
                <!-- google_ad_section_end -->
                
                <div id="main-content">
                    <div id="action-area-top"></div>
                    
                    
                        <div id="page-title">
                            Generating Servers with zproto
                        </div>
                    

                    
                        <div id="breadcrumbs">
                            <a href="blog__start.html">All Articles</a> &raquo; Generating Servers with zproto
                        </div>
                    

                                    <!-- wikidot_top_728x90 -->
<div id="div-gpt-ad-1410946564449-1" style="display: none" class="wd-adunit wd-adunit-dfp wd-adunit-above_content">

<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1410946564449-1'); });
</script>
</div>

            
    


                    <div id="page-content">
                        

<div style="overflow:hidden; font-size: 13px; margin: -26px 0 -22px 0">
<div style="float:left"><div class="list-pages-box">    

<p><a href="blog_74.html">&lt; Previous</a></p>

    
    
    
    </div></div>
<div style="float:right"><div class="list-pages-box">    

<p><a href="blog_76.html">Next &gt;</a></p>

    
    
    
    </div></div>
</div>
<div style="border: solid 1px #f00; padding:0 1em 0 1em; margin-bottom: 1em; margin-top:1em; min-height: 140px; overflow: hidden">
<p><span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/pieterh" onclick="WIKIDOT.page.listeners.userInfo(99); return false;"><img class="small" src="http://www.wikidot.com/avatar.php?userid=99&amp;amp;size=small&amp;amp;timestamp=1473156443" alt="pieterh" style="background-image:url(http://www.wikidot.com/userkarma.php?u=99)" /></a><a href="http://www.wikidot.com/user:info/pieterh" onclick="WIKIDOT.page.listeners.userInfo(99); return false;">pieterh</a></span> wrote on <span class="odate time_1396098724 format_%25e%20%25b%2C%20%25H%3A%25M%20%28%25O%20ago%29">29 Mar 2014 13:12</span></p>
<div class="image-container floatleft"><a href="http://hintjens.wdfiles.com/local--files/blog:75/magic.png"><img src="http://hintjens.wdfiles.com/local--resized-images/blog:75/magic.png/small.jpg" alt="magic.png" class="image" /></a></div>
<p>While ZeroMQ gives you a powerful communications engine to use in many different ways, building a conventional server is still fairly solid work. We use the ROUTER socket for that, managing the state for each individual client connection. Today I'll present a new tool — <a href="https://github.com/zeromq/zproto">zproto</a> — that generates whole servers, in C, from state machine models.</p>
<h2 id="toc0"><span>Quick Background to zproto</span></h2>
<p>zproto is based on work I did for Chapter 7 of the ZeroMQ book, used in FileMQ, Zyre, and several other projects. It's a collection of code generation tools that take models and turn them into perfect code.</p>
<p>iMatix used to do code generation as our main business. We got&#8230; very good at it. There are lots of ways to generate code, and the most powerful and sophisticated code generator ever built by mankind lives on Github.com at <a href="https://github.com/imatix/gsl">imatix/gsl</a>. It's an interpreter for programs that eat models (self-describing documents) and spew out text of any shape and form.</p>
<p>The only problem with sophisticated magic like GSL is that it quickly excludes other people. So in ZeroMQ I've been very careful to not do a lot of code generation, only opening that mysterious black box when there was real need.</p>
<p>The first case was in CZMQ, to generate the classes for ZeroMQ socket options. Then in CZMQ, to <a href="https://github.com/zeromq/czmq/tree/master/model">generate project files</a> (for various build systems) from <a href="https://github.com/zeromq/czmq/blob/master/model/project.xml">a single project.xml</a> file. Yes, we still use XML models. It's actually a good use case for simple schema-free XML.</p>
<p>Then I started generating binary codecs for protocols, <a href="https://github.com/zeromq/filemq/blob/master/model/fmq_msg.xml">starting with FILEMQ</a>. We used these codecs for a few different projects and they started to be quite solid. Something like a protobufs for ZeroMQ. You can see that the generated code <a href="https://github.com/zeromq/filemq/blob/master/include/fmq_msg.h">looks as good</a> as hand-written code. It's actually better: <a href="https://github.com/zeromq/filemq/blob/master/src/fmq_msg.c">more consistent, with fewer errors</a>.</p>
<p>Finally, I drew back on an even older iMatix speciality, which was state machines. My first free software tool was <a href="http://legacy.imatix.com/html/libero/">Libero</a>, a great tool for designing code as state machines and producing lovely, solid engines in pretty much any language. Libero predates GSL, so isn't as flexible. However it uses a very elegant and simple state-event-action model.</p>
<p>The Libero model is especially good at designing server-side logic, where you want to capture the exact state machine for a client connection, from start to end. This happens to be one of the more solid problems in ZeroMQ architecture: how to build capable protocol servers. We do a lot of this, it turns out. You can do only so much with low-level patterns like pub-sub and push-pull. Quite soon you need to implement stateful services.</p>
<p>So this is what I made: a GSL code generator that takes a finite-state machine model inspired by Libero, and turns out a full working server. The current code generator produces C (that builds on CZMQ). In this article I'll explain briefly how this works, and how to use it.</p>
<h2 id="toc1"><span>The State Machine Model</span></h2>
<p>State machines are a little unusual, conceptually. If you're not familiar with them it'll take a few days before they click. The Libero model is fairly simple and high level, meant to be designed and understood by humans:</p>
<ul>
<li>The machine exists in one of a number of named <em>states</em>. By convention the machine starts in the first state.</li>
</ul>
<ul>
<li>In each state, the machine accepts one of a set of named <em>events</em>. Unhandled events are either ignored or cause the machine to die, depending on your taste.</li>
</ul>
<ul>
<li>Given an event in a state, the machine executes a list of <em>actions</em>, which correspond to your code.</li>
</ul>
<ul>
<li>After executing the actions the machine moves to the <em>next state</em>. An empty next state means &quot;stay in same state&quot;.</li>
</ul>
<ul>
<li>In the next state, the machine either continues with an <em>internal event</em> produced by the previous actions, or waits for an <em>external event</em> coming as a protocol command.</li>
</ul>
<ul>
<li>Any action can raise an <em>exception event</em> that interrupts the flow through the action list and to the next state.</li>
</ul>
<ul>
<li>A <em>defaults state</em> collects events that may occur in any state, together with their actions.</li>
</ul>
<h2 id="toc2"><span>The zproto Server Model</span></h2>
<p>The zproto_server_c.gsl code generator outputs a single .h file called an <em>engine</em> that does the hard work. If needed, it'll also generate you a skeleton .c file for your server, which you edit and build. It doesn't re-create that file again, though it will append new action stubs.</p>
<p>The server is a class that exposes an API like this (taken from the <a href="https://github.com/zeromq/zbroker/tree/master/src">zeromq/zbroker</a> zpipes_server, a good example):</p>
<div class="code">
<pre>
<code>//  Create a new zpipes_server
zpipes_server_t *
    zpipes_server_new (void);

//  Destroy the zpipes_server
void
    zpipes_server_destroy (zpipes_server_t **self_p);

//  Load server configuration data
void
    zpipes_server_configure (zpipes_server_t *self, const char *config_file);

//  Set one configuration path value
void
    zpipes_server_setoption (zpipes_server_t *self, const char *path, const char *value);

//  Binds the server to an endpoint, formatted as printf string
long
    zpipes_server_bind (zpipes_server_t *self, const char *format, ...);

//  Self test of this class
void
    zpipes_server_test (bool verbose);</code>
</pre></div>
<p>Rather than run the server as a main program, you write a main program that creates and works with server objects. These run as background services, accepting clients on a ZMQ ROUTER port. The bind method exposes that port to the outside world.</p>
<p>Here's the state machine for the ZPIPES server:</p>
<div class="code">
<pre>
<code>&lt;class
    name = &quot;zpipes_server&quot;
    title = &quot;ZPIPES server&quot;
    proto = &quot;zpipes_msg&quot;
    script = &quot;zproto_server_c&quot;
    &gt;
    This is a server implementation for the ZPIPES protocol
    &lt;include filename = &quot;license.xml&quot; /&gt;

    &lt;!-- State machine for a client connection --&gt;
    &lt;state name = &quot;start&quot;&gt;
        &lt;event name = &quot;INPUT&quot; next = &quot;reading&quot;&gt;
            &lt;action name = &quot;open pipe for input&quot; /&gt;
            &lt;action name = &quot;send&quot; message = &quot;INPUT OK&quot; /&gt;
        &lt;/event&gt;
        &lt;event name = &quot;OUTPUT&quot; next = &quot;writing&quot;&gt;
            &lt;action name = &quot;open pipe for output&quot; /&gt;
            &lt;action name = &quot;send&quot; message = &quot;OUTPUT OK&quot; /&gt;
        &lt;/event&gt;
    &lt;/state&gt;

    This state allows two protocol commands, READ and CLOSE.
    Names of states, events, and actions are case insensitive.
    By convention we use uppercase for protocol events:

    &lt;state name = &quot;reading&quot;&gt;
        &lt;event name = &quot;READ&quot; next = &quot;expecting chunk&quot;&gt;
            &lt;action name = &quot;expect chunk on pipe&quot; /&gt;
        &lt;/event&gt;
        &lt;event name = &quot;CLOSE&quot;&gt;
            &lt;action name = &quot;close pipe&quot; /&gt;
            &lt;action name = &quot;send&quot; message = &quot;CLOSE OK&quot; /&gt;
            &lt;action name = &quot;terminate&quot; /&gt;
        &lt;/event&gt;
    &lt;/state&gt;

    This internal state shows how we make a decision in the
    state machine. These are three internal events; they can
    happen come immediately from 'expect chunk on pipe', or
    come later from various places. The server can ask for a
    wakeup event (timeout expired). We can also get events
    from other clients' machines.

    &lt;state name = &quot;expecting chunk&quot;&gt;
        &lt;event name = &quot;have chunk&quot; next = &quot;reading&quot;&gt;
            &lt;action name = &quot;clear pending reads&quot; /&gt;
            &lt;action name = &quot;fetch chunk from pipe&quot; /&gt;
            &lt;action name = &quot;send&quot; message = &quot;READ OK&quot; /&gt;
        &lt;/event&gt;
        &lt;event name = &quot;pipe terminated&quot; next = &quot;reading&quot;&gt;
            &lt;action name = &quot;clear pending reads&quot; /&gt;
            &lt;action name = &quot;send&quot; message = &quot;END OF PIPE&quot; /&gt;
        &lt;/event&gt;
        &lt;event name = &quot;timeout expired&quot; next = &quot;reading&quot;&gt;
            &lt;action name = &quot;clear pending reads&quot; /&gt;
            &lt;action name = &quot;send&quot; message = &quot;TIMEOUT&quot; /&gt;
        &lt;/event&gt;
    &lt;/state&gt;

    &lt;state name = &quot;writing&quot;&gt;
        &lt;event name = &quot;WRITE&quot; next = &quot;writing&quot;&gt;
            &lt;action name = &quot;store chunk to pipe&quot; /&gt;
            &lt;action name = &quot;send&quot; message = &quot;WRITE OK&quot; /&gt;
        &lt;/event&gt;
        &lt;event name = &quot;CLOSE&quot;&gt;
            &lt;action name = &quot;close pipe&quot; /&gt;
            &lt;action name = &quot;send&quot; message = &quot;CLOSE OK&quot; /&gt;
            &lt;action name = &quot;terminate&quot; /&gt;
        &lt;/event&gt;
    &lt;/state&gt;

    The defaults state handles an 'exception_event' (sends
    FAILED back to the client). It also specifies that any
    unrecognized protocol command (an '$other' event) will
    also cause the engine to send FAILED back to the client.

    &lt;state name = &quot;defaults&quot;&gt;
        &lt;event name = &quot;exception&quot;&gt;
            &lt;action name = &quot;send&quot; message = &quot;FAILED&quot; /&gt;
            &lt;action name = &quot;terminate&quot; /&gt;
        &lt;/event&gt;
        &lt;event name = &quot;$other&quot;&gt;
            &lt;action name = &quot;send&quot; message = &quot;FAILED&quot; /&gt;
        &lt;/event&gt;
    &lt;/state&gt;

    We can define API methods to pass commands back from the
    application through to the engine.

    &lt;!-- API methods
    &lt;method name = &quot;somename&quot; return = &quot;number&quot;&gt;
        One-line description of method here
        &lt;argument name = &quot;some value&quot; type = &quot;string&quot;&gt;What is this argument?&lt;/argument&gt;
        &lt;argument name = &quot;some value&quot; type = &quot;number&quot;&gt;What is this argument?&lt;/argument&gt;
    &lt;/method&gt;
    --&gt;
&lt;/class&gt;</code>
</pre></div>
<p>The generated server manages clients automatically. There's various options to expire dead clients, and so on — read the zproto_server_c.gsl code to understand more. The state machine applies to *single client connection* from start to finish.</p>
<p>There are two predefined actions: &quot;send&quot; and &quot;terminate&quot;. Other actions map to functions in your own code. The engine calls these functions as needed, passing the client context:</p>
<div class="code">
<pre>
<code>static void
store_chunk_to_pipe (client_t *self)
{
    //  State machine guarantees we're in a valid state for writing
    assert (self-&gt;pipe);
    assert (self-&gt;writing);

    //  Always store chunk on list, even to pass to pending reader
    zlist_append (self-&gt;pipe-&gt;queue, zpipes_msg_get_chunk (self-&gt;request));
    if (self-&gt;pipe-&gt;reader) {
        send_event (self-&gt;pipe-&gt;reader, have_chunk_event);
        assert (zlist_size (self-&gt;pipe-&gt;queue) == 0);
    }
}</code>
</pre></div>
<p>There are a set of methods your actions can call:</p>
<div class="code">
<pre>
<code>//  Set the next event, needed in at least one action in an internal
//  state; otherwise the state machine will wait for a message on the
//  router socket and treat that as the event.
static void set_next_event (client_t *self, event_t event);

//  Raise an exception with 'event', halting any actions in progress.
//  Continues execution of actions defined for the exception event.
static void raise_exception (client_t *self, event_t event);

//  Set wakeup alarm after 'delay' msecs. The next state should
//  handle the wakeup event. The alarm is cancelled on any other
//  event.
static void set_wakeup_event (client_t *self, size_t delay, event_t event);

//  Execute 'event' on specified client. Use this to send events to
//  other clients. Cancels any wakeup alarm on that client.
static void send_event (client_t *self, event_t event);</code>
</pre></div>
<h2 id="toc3"><span>For More Information</span></h2>
<p>Though <a href="http://legacy.imatix.com/html/libero/">the Libero documentation</a> is quite old now, it's useful as a guide to what's possible with state machines. The Libero model added superstates, substates, and other useful ways to manage larger state machines.</p>
<p>The current working example of the zproto server generator is the <a href="https://github.com/zeromq/zbroker">zeromq/zbroker</a> project, and specifically the zpipes_server class.</p>
<p>You can find <a href="https://github.com/imatix/gsl">GSL on Github</a> and there's a <a href="http://download.imatix.com/mop/">old backgrounder</a> for the so-called &quot;model oriented programming&quot; we used at iMatix.</p>
<p>If you have something to say, comment below or come discuss on zeromq-dev.</p>
<div style="float:left;width:33%; margin:-15px 0 0 0">
<p><iframe src="http://hintjens.wdfiles.com/local--html/blog%3A75/ed109ac8b3aea9e40f85593c9f37cf3a6cb0a0a6-15971432201056355788/hintjens.com/" allowtransparency="true" frameborder="0" class="html-block-iframe"></iframe></p>
</div>
<div style="float:right"><div class="page-rate-widget"><div class="page-rate-widget-start" data-rating="0"></div></div></div>
</div>
<p><a name="comments"></a></p>
<div class="comments-box">
	<h1>Comments</h1>	
	<div class="options" id="comments-options-hidden" style="display: none">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.showComments(event)">Show Comments</a> 
	</div>
		
	<div id="thread-container" class="thread-container reverse" style="margin-top: 1em">
					


<script type="text/javascript">
	WIKIDOT.forumThreadId = 834183;
</script>

        <a href="javascript:;" id="new-post-button" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.newPost(event,null)"
      style="display:  block ; margin-bottom:1em"
    >Add a New Comment</a>

 

	<div class="options" id="comments-options-shown">
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumCommentsModule.listeners.hideComments(event)" class="btn btn-default btn-small btn-sm">Hide All Comments</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.unfoldAll(event)" class="btn btn-default btn-small btn-sm">Unfold All</a> 
		<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.foldAll(event)" class="btn btn-default btn-small btn-sm">Fold All</a>
	</div>

<div id="thread-container-posts" style="display: none">
    



	
					
      
    <div class="post-container" id="fpc-2419954">
                      
		<div class="post" id="post-2419954">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2419954)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2419954">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/strahlexus" onclick="WIKIDOT.page.listeners.userInfo(2363239); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=2363239&amp;amp;size=small&amp;amp;timestamp=1570613228" alt="Strahlexus" style="background-image:url(http://www.wikidot.com/userkarma.php?u=2363239)"/></a><a href="http://www.wikidot.com/user:info/strahlexus" onclick="WIKIDOT.page.listeners.userInfo(2363239); return false;" >Strahlexus</a></span> <span class="odate time_1449676214 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">09 Dec 2015 15:50</span>
														</div>
			</div>
			<div class="content" id="post-content-2419954">
									

<p>MOP seems to be the right tool to create new protocols. I discovered it when reading through the zguide. I am working on a new protocol based on ZMQ and Protobuf.</p>
<p>Do you have some tips for creating good models or is this a matter of experience?</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2419954)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2419954)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2419954" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2419954)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2419954)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/strahlexus" onclick="WIKIDOT.page.listeners.userInfo(2363239); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=2363239&amp;amp;size=small&amp;amp;timestamp=1570613228" alt="Strahlexus" style="background-image:url(http://www.wikidot.com/userkarma.php?u=2363239)"/></a><a href="http://www.wikidot.com/user:info/strahlexus" onclick="WIKIDOT.page.listeners.userInfo(2363239); return false;" >Strahlexus</a></span>, <span class="odate time_1449676214 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">09 Dec 2015 15:50</span>
		</div>
	</div>
 
                
                	


        
                      
    <div class="post-container" id="fpc-2419961">
                      
		<div class="post" id="post-2419961">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2419961)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2419961">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/pieterh" onclick="WIKIDOT.page.listeners.userInfo(99); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=99&amp;amp;size=small&amp;amp;timestamp=1570613228" alt="pieterh" style="background-image:url(http://www.wikidot.com/userkarma.php?u=99)"/></a><a href="http://www.wikidot.com/user:info/pieterh" onclick="WIKIDOT.page.listeners.userInfo(99); return false;" >pieterh</a></span> <span class="odate time_1449677105 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">09 Dec 2015 16:05</span>
														</div>
			</div>
			<div class="content" id="post-content-2419961">
									

<p>It is a matter of experience. It is like designing a language or an API: keep the level of abstraction high enough that you don't have to be repetitive, yet keep it simple enough that people don't go crazy trying to understand it.</p>
<p>Good models are hard to make. Happily with MOP it's cheap to make and test models.</p>

							</div>

										<div class="signature">
					<hr class="signature-separator"/>
					

<p><a href="http://ipocracy.wikidot.com/main:portfolio">Portfolio</a></p>

				</div>
					
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2419961)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2419961)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2419961" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2419961)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2419961)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/pieterh" onclick="WIKIDOT.page.listeners.userInfo(99); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=99&amp;amp;size=small&amp;amp;timestamp=1570613228" alt="pieterh" style="background-image:url(http://www.wikidot.com/userkarma.php?u=99)"/></a><a href="http://www.wikidot.com/user:info/pieterh" onclick="WIKIDOT.page.listeners.userInfo(99); return false;" >pieterh</a></span>, <span class="odate time_1449677105 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">09 Dec 2015 16:05</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 

	
					
      
    <div class="post-container" id="fpc-2094893">
                      
		<div class="post" id="post-2094893">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2094893)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2094893">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/apostolis-xekoukoul" onclick="WIKIDOT.page.listeners.userInfo(1959035); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=1959035&amp;amp;size=small&amp;amp;timestamp=1570613228" alt="Apostolis Xekoukoul" style="background-image:url(http://www.wikidot.com/userkarma.php?u=1959035)"/></a><a href="http://www.wikidot.com/user:info/apostolis-xekoukoul" onclick="WIKIDOT.page.listeners.userInfo(1959035); return false;" >Apostolis Xekoukoul</a></span> <span class="odate time_1408731573 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">22 Aug 2014 18:19</span>
														</div>
			</div>
			<div class="content" id="post-content-2094893">
									

<p>There is an xml parser in nodejs ,cheerio, which can be used to metacompile xml documents to servers.</p>
<p>Cheerio uses the jquery syntax who is widely known to people.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2094893)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2094893)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2094893" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2094893)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2094893)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/apostolis-xekoukoul" onclick="WIKIDOT.page.listeners.userInfo(1959035); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=1959035&amp;amp;size=small&amp;amp;timestamp=1570613228" alt="Apostolis Xekoukoul" style="background-image:url(http://www.wikidot.com/userkarma.php?u=1959035)"/></a><a href="http://www.wikidot.com/user:info/apostolis-xekoukoul" onclick="WIKIDOT.page.listeners.userInfo(1959035); return false;" >Apostolis Xekoukoul</a></span>, <span class="odate time_1408731573 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">22 Aug 2014 18:19</span>
		</div>
	</div>
 
                
        
            </div>
 

	
					
      
    <div class="post-container" id="fpc-2005320">
                      
		<div class="post" id="post-2005320">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2005320)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2005320">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1570613228" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span> <span class="odate time_1396516693 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">03 Apr 2014 09:18</span>
														</div>
			</div>
			<div class="content" id="post-content-2005320">
									

<p>The GSL tool is something that's badly missing in every programmer's toolbox. What prevents it to catch on IMO is the syntax is kind of inconsistent and hard to learn and use. And of course, dealing with XML is pain it the ass. If it was based on JSON, it would improve the usability of the tool by an order of magnitude.</p>

							</div>

								
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2005320)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2005320)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2005320" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2005320)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2005320)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=939&amp;amp;size=small&amp;amp;timestamp=1570613228" alt="martin_sustrik" style="background-image:url(http://www.wikidot.com/userkarma.php?u=939)"/></a><a href="http://www.wikidot.com/user:info/martin-sustrik" onclick="WIKIDOT.page.listeners.userInfo(939); return false;" >martin_sustrik</a></span>, <span class="odate time_1396516693 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">03 Apr 2014 09:18</span>
		</div>
	</div>
 
                
        
                      
    <div class="post-container" id="fpc-2005355">
                      
		<div class="post" id="post-2005355">
		<div class="long">
			<div class="head">
									<div class="options">
						<a href="javascript:;" onclick="togglePostFold(event,2005355)" class="btn btn-default btn-small btn-sm">Fold</a>
					</div>
								<div class="title" id="post-title-2005355">
																		
															</div>
				<div class="info">
					<span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/pieterh" onclick="WIKIDOT.page.listeners.userInfo(99); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=99&amp;amp;size=small&amp;amp;timestamp=1570613228" alt="pieterh" style="background-image:url(http://www.wikidot.com/userkarma.php?u=99)"/></a><a href="http://www.wikidot.com/user:info/pieterh" onclick="WIKIDOT.page.listeners.userInfo(99); return false;" >pieterh</a></span> <span class="odate time_1396522091 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">03 Apr 2014 10:48</span>
														</div>
			</div>
			<div class="content" id="post-content-2005355">
									

<p>Since we put GSL onto github, it's gotten a small but growing community. Still arcane stuff, though :)</p>

							</div>

										<div class="signature">
					<hr class="signature-separator"/>
					

<p><a href="http://ipocracy.wikidot.com/main:portfolio">Portfolio</a></p>

				</div>
					
					
						<div class="options">
				
													<strong><a href="javascript:;" onclick="postReply(event,2005355)" class="btn btn-primary btn-small btn-sm">Reply</a></strong> 
																	<a href="javascript:;" onclick="togglePostOptions(event,2005355)" class="btn btn-default btn-small btn-sm">Options</a>
							</div>
									
			<div id="post-options-2005355" class="options" style="display: none">
			</div>
		</div>
		<div class="short">
							<a class="options btn btn-default btn-mini btn-xs" href="javascript:;" onclick="togglePostFold(event,2005355)" c>Unfold</a>
						<a class="title" href="javascript:;" onclick="togglePostFold(event,2005355)"></a> by <span class="printuser avatarhover"><a href="http://www.wikidot.com/user:info/pieterh" onclick="WIKIDOT.page.listeners.userInfo(99); return false;"  ><img class="small" src="http://www.wikidot.com/avatar.php?userid=99&amp;amp;size=small&amp;amp;timestamp=1570613228" alt="pieterh" style="background-image:url(http://www.wikidot.com/userkarma.php?u=99)"/></a><a href="http://www.wikidot.com/user:info/pieterh" onclick="WIKIDOT.page.listeners.userInfo(99); return false;" >pieterh</a></span>, <span class="odate time_1396522091 format_%25e%20%25b%20%25Y%2C%20%25H%3A%25M%7Cagohover">03 Apr 2014 10:48</span>
		</div>
	</div>
 
                
        
            </div>
 
            </div>
 



</div>


<div style="display:none" id="post-options-template">
	<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.showPermalink(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Permanent Link</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.editPost(event,'%POST_ID%')" class="btn btn-default btn-small btn-sm">Edit</a>
			<a href="javascript:;" onclick="WIKIDOT.modules.ForumViewThreadModule.listeners.deletePost(event,'%POST_ID%')" class="btn btn-danger btn-small btn-sm">Delete</a>
</div>
	
			</div>
	
	
	
</div>
                    </div>

                                    <!-- wikidot_bottom_300x250 -->
<div id="div-gpt-ad-1410946564449-0" style="display: none" class="wd-adunit wd-adunit-dfp wd-adunit-below_content">

<script type='text/javascript'>
googletag.cmd.push(function() { googletag.display('div-gpt-ad-1410946564449-0'); });
</script>
</div>

            
    


                    
                        <div class="page-tags">
                            <span>
                                <a href="system_page-tags/tag/zeromq.html#pages">zeromq</a>
                            </span>
                        </div>
                    

                    <div id="page-info-break"></div>
                    
                        <div id="page-options-container">
                            
                        </div>
                    
                    <div id="action-area" style="display: none;"></div>
                </div>
            </div>
            
            
            
            <div id="footer" style="display: block; visibility: visible;">
                <div class="options" style="display: block; visibility: visible;">
    <a href="http://www.wikidot.com/doc" id="wikidot-help-button">Help</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:terms-of-service" id="wikidot-tos-button">Terms of Service</a>
    &nbsp;|
    <a href="http://www.wikidot.com/legal:privacy-policy" id="wikidot-privacy-button">Privacy</a>
    &nbsp;|
    <a href="javascript:;" id="bug-report-button" onclick="WIKIDOT.page.listeners.pageBugReport(event)">Report a bug</a>
    &nbsp;|
    <a href="javascript:;" id="abuse-report-button" onclick="WIKIDOT.page.listeners.flagPageObjectionable(event)">Flag as objectionable</a>
</div>
Powered by <a href="http://www.wikidot.com/">Wikidot.com</a> 
            </div>
            
                <div id="license-area" class="license-area">
                    Unless otherwise stated, the content of this page is licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 License</a>
                </div>
            
            
            



            <div id="extrac-div-1"><span></span></div><div id="extrac-div-2"><span></span></div><div id="extrac-div-3"><span></span></div>
            
            
            
            
                
            
        </div>
        
    </div>
<!-- These extra divs/spans may be used as catch-alls to add extra imagery. -->
<div id="extra-div-1"><span></span></div><div id="extra-div-2"><span></span></div><div id="extra-div-3"><span></span></div>
<div id="extra-div-4"><span></span></div><div id="extra-div-5"><span></span></div><div id="extra-div-6"><span></span></div>
</div>



</div>
<div id="dummy-ondomready-block" style="display: none;" ></div>
    <!-- Google Analytics load -->
    <script type="text/javascript">
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <!-- Quantcast -->
    <script type="text/javascript">
    _qoptions={
        qacct:"p-edL3gsnUjJzw-"
    };
    (function() {
        var qc = document.createElement('script'); qc.type = 'text/javascript'; qc.async = true;
        qc.src = ('https:' == document.location.protocol ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(qc, s);
    })();
    </script>
    <noscript>
        <img src="http://pixel.quantserve.com/pixel/p-edL3gsnUjJzw-.gif" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
    </noscript>




<div id="page-options-bottom-tips" style="display: none;">
    <div id="edit-button-hovertip">
        Click here to edit contents of this page.    </div>
</div>
<div id="page-options-bottom-2-tips"  style="display: none;">
    <div id="edit-sections-button-hovertip">
        Click here to toggle editing of individual sections of the page (if possible).         Watch headings for an &quot;edit&quot; link when available.    </div>
    <div id="edit-append-button-hovertip">
        Append content without editing the whole page source.    </div>
    <div id="history-button-hovertip">
        Check out how this page has evolved in the past.    </div>
    <div id="discuss-button-hovertip">
        If you want to discuss contents of this page - this is the easiest way to do it.    </div>
    <div id="files-button-hovertip">
        View and manage file attachments for this page.    </div>
    <div id="site-tools-button-hovertip">
        A few useful tools to manage this Site.    </div>
    <div id="backlinks-button-hovertip">
        See pages that link to and include this page.    </div>
    <div id="rename-move-button-hovertip">
        Change the name (also URL address, possibly the category) of the page.    </div>
    <div id="view-source-button-hovertip">
        View wiki source for this page without editing.    </div>
    <div id="parent-page-button-hovertip">  
        View/set parent page (used for creating breadcrumbs and structured layout).    </div>
            <div id="abuse-report-button-hovertip">
            Notify administrators if there is objectionable content in this page.        </div>
        <div id="bug-report-button-hovertip">
            Something does not work as expected? Find out what you can do.        </div>
        <div id="wikidot-help-button-hovertip">
            General Wikidot.com documentation and help section.        </div>
        <div id="wikidot-tos-button-hovertip">
            Wikidot.com Terms of Service - what you can, what you should not etc.        </div>
        <div id="wikidot-privacy-button-hovertip">
            Wikidot.com Privacy Policy.          
        </div>
    </div>
</body>

<!-- Mirrored from hintjens.com/blog:75 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 09 Oct 2019 09:30:21 GMT -->
</html>